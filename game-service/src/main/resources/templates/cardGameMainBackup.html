<nav class="navbar navbar-expand-lg bg-body-tertiary" style="background-color: #83C9E7;">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">Navbar</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
                <!--                    로그인이 되어있으면 -->
                <li class="nav-item">
                    <button id="myInfoBtn" class="navbarBtn" onclick="getMyInfo()">myInfo</button>
                </li>
                <li class="nav-item">
                    <button id="logoutBtn" class="navbarBtn" onclick="logout()">logout</button>
                </li>

                <!--  로그인이 안되어 있으면 -->
                <li class="nav-item">
                    <button id="registerFormBtn" class="navbarBtn" onclick="registerForm()">registerForm</button>
                </li>
                <li class="nav-item">
                    <button id="loginFormBtn" class="navbarBtn" onclick="loginForm()">loginForm</button>
                </li>
            </ul>
        </div>
    </div>
</nav>



<div id="mainContainer">
    <div id="mainImgBox">
        <img id="mainImg" src="/img/cardGameMain.jpg" alt="cardGameMain">
    </div>

    <div id="inGameImgBox">
        <img id="inGameImg" src="/img/cardGameInGame.jpg" alt="cardGameInGame">
    </div>

    <div id="descBox">
        <p>A card game is any game that uses playing cards as the primary device with which the game is played, whether the cards are of a traditional design or specifically created for the game (proprietary). Countless card games exist, including families of related games (such as poker). A small number of card games played with traditional decks have formally standardized rules with international tournaments being held, but most are folk games whose rules may vary by region, culture, location or from circle to circle.</p>
    </div>

</div>




<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#playGameModal">
    플레이 게임
</button>

<div class="modal fade" id="playGameModal" tabindex="-1" role="dialog" aria-labelledby="playGameModalLabel">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <!-- 모달 창 내의 데이터 입력 폼 -->
                <button id="beginningPlayBtn" onclick="playNewGame()">처음부터 하기</button>
                <button id="continuePlayBtn" onclick="playContinue()">이어서 하기</button>
            </div>
        </div>
    </div>
</div>








<div id="writeContentBox">
    <h4>댓글 작성</h4>
    <textarea type="text" id="commentContent" name="commentContent" placeholder="댓글을 입력하세요"></textarea>
    <p id="commentError" class="fieldError"></p>

    <button onclick="saveComment()">댓글 저장</button>
</div>



<div class="commentBox">

    <th:block th:each="comment, status: ${response.getCommentDtoList()}">
        <div>
            <div class="savedCommentBox">
                <input id="savedCommentId" type="hidden" th:value="${comment.id}">
                <input id="savedCommentUserEmail" type="hidden" th:value="${comment.userEmail}">
                <p id="savedCommentMemberName">[[${comment.userEmail}]]</p>
                <p id="savedCommentCreatedAt">[[${comment.createdAt}]]</p>
            </div>
            <p id="savedCommentContent">[[${comment.content}]]</p>
        </div>

        <!--            <input type="hidden" id="isReplyBoxOpened" th:value = "false">-->
        <button type="button" id="replyModalBtn" th:value="${comment.id}" onclick="openReplyModalBox(this.value)" >대댓글 작성</button>
        <th:block th:each="reply, status: ${comment.getReplyDtoList()}">
            <div class="savedReplyBox">
                <input id="savedReplyId" type="hidden" th:value="${reply.id}">
                <input id="savedReplyEmail" type="hidden" th:value="${reply.userEmail}">
                <p id="savedReplyUserEmail">[[${reply.userEmail}]]</p>
                <p id="savedReplyContent">[[${reply.content}]]</p>
                <p id="savedReplyLastCreatedOrModifiedAt">[[${reply.lastCreatedOrModifiedAt}]]</p>

            </div>
            <div class="divider"></div>
        </th:block>

        <!--            <p>-->
        <!--                <a class="btn btn-primary" data-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">-->
        <!--                    댓글창 열기-->
        <!--                </a>-->
        <!--            </p>-->
        <!--            <div class="collapse" id="collapseExample">-->
        <!--                <div class="card card-body">-->
        <!--                    <textarea type="text" id="replyContent" name="replyContent"></textarea>-->
        <!--                    <button type="button" id="addReplyBtn" th:value="${comment.id}">작성</button>-->
        <!--                </div>-->
        <!--            </div>-->


        <!--            <button type="button" id="openReplyBoxBtn" onclick="openReplyBox()">댓글창 열기</button>-->

        <!--            <div id="replyContentBox">-->
        <!--                <textarea type="text" id="replyContent" name="replyContent"></textarea>-->
        <!--                <button type="button" id="addReplyBtn" th:value="${comment.id}">작성</button>-->
        <!--            </div>-->

        <div class="divider"></div>
        <!--      내가 쓴 글만 댓글 삭제 와 댓글 내용 변경이 보이게 -->
    </th:block>

</div>

<div id="myModal" class="replyModal">
    <div class="replyModal-content">
        <span class="close" onclick="closeModal()">&times;</span>
        <textarea type="text" id="replyContent" name="replyContent"></textarea>
    </div>
    <div class="replyModal-footer">
    </div>
</div>


<!--      부트스트랩 모달     -->
<!--    <div class="modal fade" id="replyModal" tabindex="-1" role="dialog" aria-labelledby="replyModalLabel">-->
<!--        <div class="modal-dialog">-->
<!--            <div class="modal-content">-->
<!--                <div class="modal-header">-->
<!--                    <h4 class="modal-title" id="replyModalLabel">대댓글 작성</h4>-->
<!--                </div>-->
<!--                <div class="modal-body">-->
<!--                    &lt;!&ndash; 모달 창 내의 데이터 입력 폼 &ndash;&gt;-->
<!--                    <div class="form-group">-->
<!--                        <label for="replyContentRequest"></label>-->
<!--                        <textarea type="text" id="replyContentRequest" name="replyContentRequest"></textarea>-->
<!--                    </div>-->
<!--                </div>-->
<!--                <div class="modal-footer">-->
<!--                    <button id="addReplyBtn" type="button" onclick="addReply()">대댓글 추가</button>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

<!--    댓글 수정 모달-->
<div class="modal fade" id="updateCommentModal" tabindex="-1" role="dialog" aria-labelledby="commentModalLabel">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="updateCommentModalLabel">댓글 수정</h4>
            </div>
            <div class="modal-body">
                <!-- 모달 창 내의 데이터 입력 폼 -->
                <div class="form-group">

                    <label for="updateCommentContentRequest"></label>
                    <textarea type="text" id="updateCommentContentRequest" name="updateCommentContentRequest"></textarea>

                </div>
            </div>
            <div class="modal-footer">
                <button id="sendUpdateRequestCommentBtn" type="button" onclick="updateComment()">수정</button>
            </div>
        </div>
    </div>
</div>

<!-- 대댓글 수정 모달-->
<div class="modal fade" id="updateReplyModal" tabindex="-1" role="dialog" aria-labelledby="replyModalLabel">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="updateReplyModalLabel">대댓글 수정</h4>
            </div>
            <div class="modal-body">
                <!-- 모달 창 내의 데이터 입력 폼 -->
                <div class="form-group">

                    <label for="updateCommentContentRequest"></label>
                    <textarea type="text" id="updateReplyContentRequest" name="updateReplyContentRequest"></textarea>


                </div>
            </div>
            <div class="modal-footer">
                <button id="sendUpdateReplyRequestBtn" type="button" onclick="updateReply()">수정</button>
            </div>
        </div>
    </div>
</div>



<!--    <div class="form-group">-->
<!--      <div class="custom-file img-div">-->
<!--        <input type="file" name="photoFile" class="custom-file-input">-->
<!--        <label class="custom-file-label" text="댓글이미지"></label>-->
<!--      </div>-->
<!--    </div>-->




<style>


    .navbarBtn{
        margin-top: 5px;
        background-color: #83C9E7;
        border: none;
    }



    .commentBox{
        margin-top: 200px;
        margin-left: 300px;
        margin-right: 300px;
    }

    .savedCommentBox{
        position: relative;
        width: 100%;
        height: 200px;
    }

    #savedCommentMemberName{
        position: absolute;
        width: 100%;
        height: 50px;
        top : 40px
    }


    #savedCommentCreatedAt{
        position: absolute;

        top: 95px;
        left: 60px;
        width: 200px;
        height: 50px;
    }

    #savedCommentContent{

        width: 100%;
        height: 100px;
    }

    .divider{
        width: 100%;
        height: 1px;
        background-color: grey;
    }

    #writeContentBox{
        margin-top: 50px;
        margin-left: 200px;
        margin-right: 200px;
    }

    #commentContent{
        width: 100%;
        height: 100px;
    }

    #replyContentBox{
        display: none;
    }


    /*    replyModal  */
    /* Modal Background */
    .replyModal {
        display: none; /* Initially hidden */
        position: fixed;
        z-index: 1;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent background */
    }

    /* Modal Content Box */
    .replyModal-content {
        background-color: #fff;
        margin: 15% auto;
        padding: 20px;
        border: 1px solid #888;
        width: 80%; /* Adjust modal width */
        max-width: 500px;
    }

    /* Close Button */
    .close {
        color: #aaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
    }

    .close:hover,
    .close:focus {
        color: #000;
        text-decoration: none;
        cursor: pointer;
    }

    .savedReplyBox{
        padding-left: 100px;
    }

    #beginningPlayBtn{

    }

    #continuePlayBtn{

    }

</style>